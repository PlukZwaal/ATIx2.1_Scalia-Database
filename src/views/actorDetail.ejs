<%- include('partials/header') %>

<div class="d-flex justify-content-between align-items-center mb-4">
  <h1><%= actor.full_name %></h1>
  <a href="/actor" class="btn btn-secondary">
    <i class="bi bi-arrow-left"></i> Terug naar overzicht
  </a>
</div>

<!-- Actor informatie -->
<div class="card mb-4">
  <div class="card-header">
    <h5 class="mb-0">Acteur Informatie</h5>
  </div>
  <div class="card-body">
    <div class="row">
      <div class="col-md-6">
        <p><strong>Actor ID:</strong> <%= actor.actor_id %></p>
        <p><strong>Voornaam:</strong> <%= actor.first_name %></p>
        <p><strong>Achternaam:</strong> <%= actor.last_name %></p>
      </div>
      <div class="col-md-6">
        <p><strong>Laatste update:</strong> <%= new Date(actor.last_update).toLocaleDateString('nl-NL') %></p>
      </div>
    </div>
  </div>
</div>

<!-- Films waarin acteur speelt -->
<div class="card">
  <div class="card-header d-flex justify-content-between align-items-center">
    <h5 class="mb-0">Films waarin <%= actor.first_name %> <%= actor.last_name %> speelt</h5>
    <span class="badge bg-primary"><%= (films && films.length) || 0 %> film<%= (films && films.length !== 1) ? 's' : '' %></span>
  </div>
  <div class="card-body">
    <% if (films && films.length > 0) { %>
      <div class="table-responsive">
        <table class="table table-hover align-middle">
          <thead class="table-dark">
            <tr>
              <th>Titel</th>
              <th>Jaar</th>
              <th>Categorie</th>
              <th>Lengte</th>
              <th>Rating</th>
              <th>Beschrijving</th>
            </tr>
          </thead>
          <tbody>
            <% films.forEach(film => { %>
              <tr>
                <td>
                  <strong><%= film.title %></strong>
                </td>
                <td><%= film.release_year || '-' %></td>
                <td>
                  <% if (film.category_name) { %>
                    <span class="badge bg-info"><%= film.category_name %></span>
                  <% } else { %>
                    <span class="text-muted">-</span>
                  <% } %>
                </td>
                <td>
                  <% if (film.length) { %>
                    <%= film.length %> min
                  <% } else { %>
                    -
                  <% } %>
                </td>
                <td>
                  <% if (film.rating) { %>
                    <span class="badge bg-warning text-dark"><%= film.rating %></span>
                  <% } else { %>
                    -
                  <% } %>
                </td>
                <td>
                  <% if (film.description) { %>
                    <small class="text-muted">
                      <%= film.description.length > 100 ? film.description.substring(0, 100) + '...' : film.description %>
                    </small>
                  <% } else { %>
                    <span class="text-muted">Geen beschrijving</span>
                  <% } %>
                </td>
              </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
    <% } else { %>
      <div class="alert alert-info">
        <i class="bi bi-info-circle"></i>
        Geen films gevonden voor <%= actor.full_name %>.
      </div>
    <% } %>
  </div>
</div>

<%- include('partials/footer') %>